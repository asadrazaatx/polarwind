import { useState } from "react";
import {
  Meta,
  Story,
  Props,
  Description,
  Preview,
} from "@storybook/addon-docs/blocks";
import { withSmartKnobs } from "storybook-addon-smart-knobs";
import { Toggle } from "./Toggle";

<Meta
  title="Components | Actions / Toggle"
  component={Toggle}
  decorators={[withSmartKnobs({ ignoreProps: ["children"] })]}
/>

# Toggle

<Description of={Toggle} />

<Preview withToolbar>
  <Story name="Example">
    {() => {
      const [enabled, setEnabled] = useState(true);
      return <Toggle enabled={enabled} onClick={() => setEnabled(!enabled)} />;
    }}
  </Story>
</Preview>

<Props of={Toggle} />

## Usage

### Default toggle

Use on settings pages to allow users to toggle a setting that has an enabled or a disabled
state. Note that this component does not change its own state when you click it, unlike a
normal checkbox. You must drive it externally with the `enabled` and `onClick` props.

### Read-only

Use when Toggle is in readonly/non-interactive disabled state.

<Preview>
  <Story name="Disabled">
    {() => {
      const [enabled, setEnabled] = useState(true);
      return (
        <Toggle
          enabled={enabled}
          onClick={() => setEnabled(!enabled)}
          readOnly
        />
      );
    }}
  </Story>
</Preview>
