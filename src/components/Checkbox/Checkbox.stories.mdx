import {
  Description,
  Meta,
  Preview,
  Props,
  Story,
} from "@storybook/addon-docs/blocks";
import { useCallback, useState } from "react";
import { withSmartKnobs } from "storybook-addon-smart-knobs";
import { Stack } from "../Stack";
import { Checkbox } from "./Checkbox";

<Meta
  component={Checkbox}
  decorators={[withSmartKnobs({ ignoreProps: ["children"] })]}
  title="Components / Forms / Checkbox"
/>

# Checkbox

<Description of={Checkbox} />

<Preview withToolbar>
  <Story name="Default checkbox">
    {() => {
      const [checked, setChecked] = useState(false);
      // prettier-ignore
      const handleChange = useCallback((newChecked) => setChecked(newChecked), []);
      // prettier-ignore
      return <Checkbox checked={checked} label="Basic checkbox" onChange={handleChange} />;
    }}
  </Story>
</Preview>

<Props of={Checkbox} />

## Usage

### Default checkboxes

Use in forms to toggle the state of something on or off. Default checkboxes can appear in
two states: selected and disabled, or unselected.

<Preview withToolbar>
  <Story name="checked set">
    <Checkbox checked={true} label="Pre-checked" />
  </Story>
</Preview>

### Indeterminate checkbox

Used when the state of the checkbox is indeterminate. Usually, this is a parent checkbox
where the children are a mix of checked and unchecked checkboxes.

<Preview>
  <Story name="Indeterminate">
    <Checkbox checked="indeterminate" label="Select all" />
  </Story>
</Preview>

### Disabled checkbox

<Preview>
  <Story name="Disabled">
    <Stack vertical>
      <Checkbox checked="indeterminate" disabled label="Select all" />
      <Checkbox checked disabled label="Select all" />
      <Checkbox checked={false} disabled label="Select all" />
    </Stack>
  </Story>
</Preview>
